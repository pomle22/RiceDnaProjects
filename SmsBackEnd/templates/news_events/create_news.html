{% extends "includes/base_admin.html" %}


{% block content %}

<style>
   th {
      text-align: center;
      font-size: 15px;
      white-space: nowrap;
   }

   td {
      white-space: nowrap;
   }

   h5 {
      font-weight: bold;
      font-size: 18px;
   }

   label {
      font-size: 15px;
      font-weight: 600;
   }

   .form-control {
      font-size: unset;
   }

   .fa-sm:hover {
      cursor: pointer;
   }
</style>

<!--  Traffic  -->
<div class="row">
   <div class="col-lg-12">
      <div class="card">
         <div class="card-header">
            <strong>Edit News & Events </strong>
         </div>
         <div class="card-body" style="font-size: 14px;">

            <form method="post" enctype="multipart/form-data" class="form-horizontal">
               <!-- HTTP แบบ Post-->
               {% csrf_token %}
               <p class="text-danger" >หมายเหตุ : <span style="color:blue;font-weight:bold">ควรมีภาพอย่างน้อย 1 ภาพ</span></p>
               <div class="row form-group">
                  <div class="col-lg-6">
                     <!-- input group -->
                     <label class="form-control-label">ภาพถ่าย : <small class="text-danger">(limit 5
                           file)</small>
                     </label>
                     <div class="custom-file">
                        <input type="file" name="name_pic" id="customFile" accept="image/*" multiple>
                     </div>
                     <ul class="list-unstyled ml-4">
                        <ul id="list_image_from_db">
                        </ul>
                     </ul>
                     <!-- input group -->
                  </div>

                  <div class="col-lg-6">
                     <!-- input group -->
                     <label class="form-control-label">อัลบั้มภาพ</label>
                     <div class="custom-file">
                        <input type="file" name="gallery_pic" id="customFile" accept="image/*" multiple>
                     </div>
                     <ul class="list-unstyled ml-4">
                        <ul id="list_image_from_db">
                        </ul>
                     </ul>
                     <!-- input group -->
                  </div>
               </div>

               <div class="form-group">
                  <label for="send_name">Title</label>
                  <input type="text" class="form-control" id="send_name" placeholder="Title..." name="title"
                     value="{{ add_news }}" required>
               </div>

               <div class="form-group">
                  <label for="send_detail">Detail</label>
                  <textarea class="form-control" name="detail" rows="5" id="send_detail"
                     placeholder="Write about Detail" name="send_detail">{{ add_detail }}</textarea>
               </div>

               <!-- href="{% url 'SmsBackEnd:create_news'%}" -->
               <div class="container" align='right'>
                  <a><button type="Submit" name="type_submit" value="save" data-target="#myModal"
                        class="btn btn-success">Save</button></a>
               </div>

            </form>
         </div>
      </div>
   </div><!-- /# column -->
</div>
<!--  /Traffic -->

<script>
   $('input[type="file"][name="name_pic"]').on("change", function () {
      check_limit = 5 - check_pic
      this_input = $(this).attr('id')
      if ($("#" + this_input)[0].files.length > check_limit) {
         alert("You can select only " + check_limit + " images");
         $("#" + this_input).val('')
      }
   });
</script>
{% endblock content %}